{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\AKACHUKWU\\\\Documents\\\\Reactweb\\\\Textfolder2\\\\src\\\\admin\\\\AdminDashboard.js\",\n  _s = $RefreshSig$();\n// src/pages/AdminLaligaDashboard.jsx\nimport React, { useState, useEffect } from \"react\";\nimport { Container, Row, Col } from \"react-bootstrap\";\nimport MatchForm from \"./MatchForm\";\nimport DraftsPage from \"./DraftsPage\";\nimport PublishedPage from \"./PublishedPage\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_PUBLISHED = \"http://localhost:5000/laliga\";\nconst API_DRAFTS = \"http://localhost:5000/drafts\";\nconst DEFAULT_MATCH = {\n  date: \"\",\n  time: \"\",\n  home: \"\",\n  away: \"\",\n  tip: \"\",\n  ou: \"\"\n};\nexport default function AdminLaligaDashboard() {\n  _s();\n  const [form, setForm] = useState(DEFAULT_MATCH);\n  const [drafts, setDrafts] = useState([]);\n  const [published, setPublished] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [saving, setSaving] = useState(false);\n  const [editTarget, setEditTarget] = useState(null);\n  const fetchAll = async () => {\n    setLoading(true);\n    const [pubRes, draftRes] = await Promise.all([fetch(API_PUBLISHED), fetch(API_DRAFTS)]);\n    setPublished(await pubRes.json());\n    setDrafts(await draftRes.json());\n    setLoading(false);\n  };\n  useEffect(() => {\n    fetchAll();\n  }, []);\n  const handleChange = e => setForm({\n    ...form,\n    [e.target.name]: e.target.value\n  });\n  const resetForm = () => {\n    setForm(DEFAULT_MATCH);\n    setEditTarget(null);\n  };\n  const saveDraft = async () => {\n    setSaving(true);\n    await fetch(API_DRAFTS, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(form)\n    });\n    await fetchAll();\n    resetForm();\n    setSaving(false);\n  };\n  const publishNow = async () => {\n    setSaving(true);\n    await fetch(API_PUBLISHED, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(form)\n    });\n    await fetchAll();\n    resetForm();\n    setSaving(false);\n  };\n  const publishDraft = async draft => {\n    await fetch(API_PUBLISHED, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(draft)\n    });\n    await fetch(`${API_DRAFTS}/${draft.id}`, {\n      method: \"DELETE\"\n    });\n    fetchAll();\n  };\n  const deleteDraft = async id => {\n    await fetch(`${API_DRAFTS}/${id}`, {\n      method: \"DELETE\"\n    });\n    fetchAll();\n  };\n  const deletePublished = async id => {\n    await fetch(`${API_PUBLISHED}/${id}`, {\n      method: \"DELETE\"\n    });\n    fetchAll();\n  };\n  const startEdit = (item, source) => {\n    setForm(item);\n    setEditTarget({\n      source,\n      id: item.id\n    });\n    window.scrollTo(0, 0);\n  };\n  const saveEdit = async () => {\n    const targetApi = editTarget.source === \"published\" ? API_PUBLISHED : API_DRAFTS;\n    await fetch(`${targetApi}/${editTarget.id}`, {\n      method: \"PUT\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(form)\n    });\n    fetchAll();\n    resetForm();\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    className: \"py-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Admin \\u2022 La Liga\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(MatchForm, {\n      form,\n      isEditing: !!editTarget,\n      saving,\n      handleChange,\n      resetForm,\n      saveDraft,\n      publishNow,\n      saveEdit\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      className: \"g-4 mt-2\",\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        md: 6,\n        children: /*#__PURE__*/_jsxDEV(DraftsPage, {\n          drafts,\n          loading,\n          publishDraft,\n          startEdit,\n          deleteDraft\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        md: 6,\n        children: /*#__PURE__*/_jsxDEV(PublishedPage, {\n          published,\n          loading,\n          startEdit,\n          deletePublished\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 5\n  }, this);\n}\n_s(AdminLaligaDashboard, \"b2Sy/9AX6Fjg94N0PIygwJfqR44=\");\n_c = AdminLaligaDashboard;\nvar _c;\n$RefreshReg$(_c, \"AdminLaligaDashboard\");","map":{"version":3,"names":["React","useState","useEffect","Container","Row","Col","MatchForm","DraftsPage","PublishedPage","jsxDEV","_jsxDEV","API_PUBLISHED","API_DRAFTS","DEFAULT_MATCH","date","time","home","away","tip","ou","AdminLaligaDashboard","_s","form","setForm","drafts","setDrafts","published","setPublished","loading","setLoading","saving","setSaving","editTarget","setEditTarget","fetchAll","pubRes","draftRes","Promise","all","fetch","json","handleChange","e","target","name","value","resetForm","saveDraft","method","headers","body","JSON","stringify","publishNow","publishDraft","draft","id","deleteDraft","deletePublished","startEdit","item","source","window","scrollTo","saveEdit","targetApi","className","children","fileName","_jsxFileName","lineNumber","columnNumber","isEditing","md","_c","$RefreshReg$"],"sources":["C:/Users/AKACHUKWU/Documents/Reactweb/Textfolder2/src/admin/AdminDashboard.js"],"sourcesContent":["// src/pages/AdminLaligaDashboard.jsx\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { Container, Row, Col } from \"react-bootstrap\";\r\nimport MatchForm from \"./MatchForm\";\r\nimport DraftsPage from \"./DraftsPage\";\r\nimport PublishedPage from \"./PublishedPage\";\r\n\r\nconst API_PUBLISHED = \"http://localhost:5000/laliga\";\r\nconst API_DRAFTS = \"http://localhost:5000/drafts\";\r\n\r\nconst DEFAULT_MATCH = { date: \"\", time: \"\", home: \"\", away: \"\", tip: \"\", ou: \"\" };\r\n\r\nexport default function AdminLaligaDashboard() {\r\n  const [form, setForm] = useState(DEFAULT_MATCH);\r\n  const [drafts, setDrafts] = useState([]);\r\n  const [published, setPublished] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [saving, setSaving] = useState(false);\r\n  const [editTarget, setEditTarget] = useState(null);\r\n\r\n  const fetchAll = async () => {\r\n    setLoading(true);\r\n    const [pubRes, draftRes] = await Promise.all([fetch(API_PUBLISHED), fetch(API_DRAFTS)]);\r\n    setPublished(await pubRes.json());\r\n    setDrafts(await draftRes.json());\r\n    setLoading(false);\r\n  };\r\n\r\n  useEffect(() => { fetchAll(); }, []);\r\n\r\n  const handleChange = (e) => setForm({ ...form, [e.target.name]: e.target.value });\r\n\r\n  const resetForm = () => { setForm(DEFAULT_MATCH); setEditTarget(null); };\r\n\r\n  const saveDraft = async () => {\r\n    setSaving(true);\r\n    await fetch(API_DRAFTS, { method: \"POST\", headers: { \"Content-Type\": \"application/json\" }, body: JSON.stringify(form) });\r\n    await fetchAll(); resetForm(); setSaving(false);\r\n  };\r\n\r\n  const publishNow = async () => {\r\n    setSaving(true);\r\n    await fetch(API_PUBLISHED, { method: \"POST\", headers: { \"Content-Type\": \"application/json\" }, body: JSON.stringify(form) });\r\n    await fetchAll(); resetForm(); setSaving(false);\r\n  };\r\n\r\n  const publishDraft = async (draft) => {\r\n    await fetch(API_PUBLISHED, { method: \"POST\", headers: { \"Content-Type\": \"application/json\" }, body: JSON.stringify(draft) });\r\n    await fetch(`${API_DRAFTS}/${draft.id}`, { method: \"DELETE\" });\r\n    fetchAll();\r\n  };\r\n\r\n  const deleteDraft = async (id) => { await fetch(`${API_DRAFTS}/${id}`, { method: \"DELETE\" }); fetchAll(); };\r\n  const deletePublished = async (id) => { await fetch(`${API_PUBLISHED}/${id}`, { method: \"DELETE\" }); fetchAll(); };\r\n\r\n  const startEdit = (item, source) => { setForm(item); setEditTarget({ source, id: item.id }); window.scrollTo(0, 0); };\r\n  const saveEdit = async () => {\r\n    const targetApi = editTarget.source === \"published\" ? API_PUBLISHED : API_DRAFTS;\r\n    await fetch(`${targetApi}/${editTarget.id}`, { method: \"PUT\", headers: { \"Content-Type\": \"application/json\" }, body: JSON.stringify(form) });\r\n    fetchAll(); resetForm();\r\n  };\r\n\r\n  return (\r\n    <Container className=\"py-4\">\r\n      <h2>Admin â€¢ La Liga</h2>\r\n      <MatchForm {...{ form, isEditing: !!editTarget, saving, handleChange, resetForm, saveDraft, publishNow, saveEdit }} />\r\n      <Row className=\"g-4 mt-2\">\r\n        <Col md={6}><DraftsPage {...{ drafts, loading, publishDraft, startEdit, deleteDraft }} /></Col>\r\n        <Col md={6}><PublishedPage {...{ published, loading, startEdit, deletePublished }} /></Col>\r\n      </Row>\r\n    </Container>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}